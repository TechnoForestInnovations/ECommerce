
{% load static %}
<style>

  /* -------------------------
   Header (top navigation bar)
------------------------- */

.main-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 15px;
    background:#f8f9fa; /* (Off-White) */
    backdrop-filter: blur(6px);
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    z-index: 2002;
    font-family: 'Poppins', sans-serif;

}

/* Logo text */

.header-left .logo {
    font-size: 28px;
    font-weight: 700;
    text-decoration: none;
    font-size: 30px;
    color: #111;
}

/* Desktop nav links */

.header-center {
    display: flex;
    gap: 20px;
}

.header-center a {
    font-size: 16px;
    color: #555;
    font-weight: bold;
    transition: color 0.3s ease;
    text-decoration: none;
}

.header-center a:hover {
    color: #000;
    text-shadow: #555 0px 0px 0.2px;
}

/* Right side (profile, cart, menu) */

.header-right {
    display: flex;
    justify-content: space-between;
    align-items: center;
    gap: 15px;
}

/* Cart + Wishlist icons */

.header-right .cart-icon,
.header-right .wishlist-icon {
    font-size: 1.5rem;
    margin: 0 10px;
    color: #555;
    text-decoration: none;
    transition: color 0.3s ease, transform 0.2s ease;
    display: inline-flex;
    align-items: center;
}

.header-right .cart-icon:hover,
.header-right .wishlist-icon:hover {
    color: #545455;
    transform: scale(1.1);
}

.header-right .wishlist-icon i {
    color: #737373;
}

.header-right .wishlist-icon.active i {
    color: #ffffff;
}

/* Profile dropdown */
.profile-dropdown {
    position: relative;
    display: inline-block;
}

.profile-icon {
    background: none;
    border: none;
    font-size: 28px;
    cursor: pointer;
    color: #333;
}

.profile-icon:hover {
    color: #555;
}

.dropdown-menu {
    position: absolute;
    top: 45px;
    right: 0;
    background: white;
    border: 1px solid #ddd;
    border-radius: 8px;
    min-width: 200px;
    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
    padding: 12px;
    text-align: left;
    z-index: 100;
    display: flex;
    flex-direction: column;
    align-items: center;
    opacity: 0;
    transform: translateY(-10px);
    pointer-events: none;
    transition: opacity 0.25s ease, transform 0.25s ease;
}

.dropdown-menu.active {
    opacity: 1;
    transform: translateY(0);
    pointer-events: auto;
}

.dropdown-menu p {
    margin: 6px 0;
    font-size: 15px;
    color: #333;
    width: 100%;
    text-align: center;
}

.logout {
    width: 100%;
    display: block;
    margin-top: 10px;
    color: rgb(197, 11, 11);
    font-weight: bold;
    text-align: center;
    font-size: 18px;
    border-radius: 4px;
}

.dropdown-menu a:hover {
    background-color: #b3b3b3a6;
}

/* Buttons (signup/login/logout) */
.signup-button {
    background-color: #000;
    color: #fff;
    border: none;
    padding: 10px 20px;
    font-size: 0.9rem;
    cursor: pointer;
    border-radius: 5px;
    transition: background-color 0.3s ease;
}

.signup-button:hover,
.logout:hover {
    background-color: #333;
}

.mobile-logout {
    color: rgb(197, 11, 11) !important;
    font-weight: bold;
    font-size: 18px;
}

/* Hamburger menu (hidden on desktop) */
.menu-toggle {
    display: none;
    background: none;
    border: none;
    font-size: 1.5rem;
    cursor: pointer;
}

/* -------------------------
   Mobile menu
------------------------- */

.mobile-menu {

    position: fixed;
    top: 0;
    right: -100%;
    left: auto;
    width: 50%;
    height: 100%;
    background: #fff;
    flex-direction: column;
    padding: 20px;
    transition: right 0.3s ease-in-out;
    z-index: 2001;
    display: flex;
}

.mobile-menu.active {
    right: 0;
}

.mobile-menu nav {
    display: flex;
    flex-direction: column;
    gap: 15px;
}

.mobile-menu a {
    font-size: 1rem;
    color: #333;
    padding: 6px 0;
    border-bottom: 1px;

}

.mobile-menu .close-menu {
    background: none;
    border: none;
    font-size: 1.5rem;
    align-self: flex-end;
    cursor: pointer;
}

.mobile-profile-dropdown {
    display: flex;
    flex-direction: column;
    align-items: flex-start;
    font-size: 18px;
    font-weight: bold;

}

.mobile-dropdown-menu {
    display: none;
    flex-direction: column;
    padding-left: 15px;
    margin-top: 5px;
    gap: 5px;
}

.mobile-dropdown-menu.active {
    display: flex;
    align-items: center;
}


/* -------------------------
   Responsive (tablet & mobile)
------------------------- */
@media (max-width: 768px) {

    .header-center,
    .signup-button,
    .logout,
    .profile-icon,
    .dropdown-menu {
        display: none;
    }

    .cart-icon,
    .wishlist-icon {
        display: none !important;
    }

    .header-right {
        flex-direction: column-reverse;
    }

    .menu-toggle {
        display: block;
    }

    .mobile-menu {
        display: flex;
        right: -100%;
        height: max-content;
        border-radius: 8px;
        box-shadow: #555 0px 0px 20px;
        margin-top: 10px;
    }

    .mobile-menu.active {
        right: 0;
    }
}
</style>

<header class="main-header">
        <!-- Left side of the header: Logo -->
        <div class="header-left">
            <a href="{% url 'product_list' %}" class="logo">FS Club</a>
        </div>

        <!-- Center navigation links (visible on desktop) -->
        <nav class="header-center" aria-label="Main navigation">
            <a href="#">Shop By Season</a>
                <a href="">High Vibes</a>
            <a href="">Low Vibes</a>
            <a href="">Accessories</a>
        </nav>

        <!-- Right side of the header -->
        <div class="header-right">
            {% if user.is_authenticated %}
            <!-- ============================ -->
            <!-- When the user IS logged in -->
            <!-- ============================ -->

            <!-- Wishlist icon (desktop only) -->
            <!-- Clicking this could open a wishlist page or modal -->
            <a href="{% url 'wishlist_view' %}" class="wishlist-icon" aria-label="View Wishlist">
                <i class="fas fa-heart"></i>
            </a>

            <!-- Cart icon (desktop only) -->
            <a href="" class="cart-icon" aria-label="View Cart">
                <i class="fas fa-shopping-cart"></i>
            </a>



            <!-- Desktop Profile Dropdown -->
            <div class="profile-dropdown">
                <!-- Button to toggle dropdown -->
                <button class="profile-icon" id="profile-btn" aria-label="Profile">
                    <i class="fas fa-user-circle"></i>
                </button>

                <!-- Hidden dropdown menu (shows on click with JS) -->
                <div class="dropdown-menu" id="profile-menu">
                    <!-- Show logged-in user's name and email -->
                    <p><strong>{{ user.username }}</strong></p>
                    <p>{{ user.email }}</p>
                    <!-- Logout button -->
                    <a class="logout" href="/accounts/login/">Logout</a>
                </div>
            </div>
            {% else %}
            <!-- ============================ -->
            <!-- When the user is NOT logged in -->
            <!-- ============================ -->

            <!-- Show Signup/Login button instead of cart/wishlist/profile -->
            <button class="signup-button login">Signup/Login</button>
            {% endif %}

            <!-- Hamburger menu button (shows only on mobile) -->
            <button class="menu-toggle" aria-label="Toggle navigation menu">
                <i class="fas fa-bars"></i>
            </button>
        </div>


        <!-- ================= MOBILE MENU ================= -->
        <div class="mobile-menu">
            <!-- Close button (X icon) -->
            <button class="close-menu"><i class="fas fa-times"></i></button>

            <!-- Navigation links inside mobile menu -->
            <nav aria-label="Mobile navigation">

                {% if user.is_authenticated %}
                <!-- Mobile Profile Dropdown (only visible when logged in) -->
                <div class="mobile-profile-dropdown">
                    Hey! {{ user.username }}
                </div>
                {% endif %}

                <!-- Main shop links (always visible) -->
                <a href="">Shop By Season</a>
                <a href="">High Vibes</a>
                <a href="">Low Vibes</a>
                <a href="">Accessories</a>

                {% if user.is_authenticated %}
                <!-- Extra cart link for mobile (outside profile dropdown) -->
                <a href="">Wishlist</a>
                <a href="">Cart</a>
                <a class="mobile-logout" href="">Logout</a>

                {% else %}
                <!-- Show login/signup links for guests -->
                <a href="" class="login">Login</a>
                <a href="" class="signup">Signup</a>
                {% endif %}
            </nav>
        </div>
    </header>